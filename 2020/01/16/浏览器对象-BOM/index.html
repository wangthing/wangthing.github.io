<!DOCTYPE HTML>
<html class="no-js" lang="zh-CN">
<head>
    <!--[if lte IE 9]>
<meta http-equiv="refresh" content="0;url=http://yoursite.com/warn.html">
<![endif]-->
<meta charset="utf-8">
<meta http-equiv="X-DNS-Prefetch-Control" content="on">
<link rel="dns-prefetch" href="http://yoursite.com">
<link rel="dns-prefetch" href="//www.google-analytics.com">
<link rel="prefetch" href="http://yoursite.com">
<link rel="prefetch" href="//www.google-analytics.com">


<link rel="prerender" href="http://yoursite.com">

<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="renderer" content="webkit">
<meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
<meta http-equiv="mobile-agent" content="format=html5; url=http://yoursite.com">
<meta name="author" content="John Doe">

<link rel="stylesheet" href="/css/JSimple.css">


<link rel="shortcut icon" href="/images/avar.jpg">


<title>浏览器对象-bom - 欢迎</title>

<meta name="keywords" content="">

<meta name="description " content="快乐的麻瓜---博客">

    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                processEscapes: true
            }
        });
    </script>


    

    

<meta name="generator" content="Hexo 4.2.0"></head>
<body>
<div id="nav">
    <nav class="nav-menu">
        <a class="site-name current" href="/" title="淦">淦</a>
        <a class="site-index current" href="/"><i class="fa fa-home"></i><span>首页</span></a>
        <a href="/archives" title="归档"><i class="fa fa-archives"></i><span>归档</span></a>
        <a href="/tags" title="标签"><i class="fa fa-tags"></i><span>标签</span></a>
        <!-- custom single page of menus -->
        
        
        <a href="/help" title="帮助">
            <i class="fa fa-question-circle"></i>
            <span>帮助</span>
        </a>
        
    </nav>
</div>

<div class="nav-user">
    <a class="btn-search" href="#"><i class="fa fa-search"></i></a>
    <a class="btn-read-mode" href="#"><i class="fa fa-sun-o"></i></a>
    <a class="btn-sns-qr" href="javascript:"><i class="fa fa-telegram"></i></a>
</div>

<div id="wrapper" class="clearfix">
    <div id="body">
        <div class="main" id="main">
            <div id="cover">
    <div class="cover-img"></div>
    <div class="cover-info">
        
        <h1 class="cover-siteName">说IT</h1>
        <h3 class="cover-siteTitle">用代码摇滚这个世界</h3>
        <p class="cover-siteDesc">一个关注技术与跑步的IT博客</p>
        <div class="cover-sns">
            
    &nbsp;&nbsp;<div class="btn btn-telegram">
        <a href="http://t.me/kunyintang" target="_blank" title="telegram" ref="friend">
            <i class="fa fa-telegram"></i>
        </a>
    </div>

    &nbsp;&nbsp;<div class="btn btn-instagram">
        <a href="https://www.instagram.com/mtangsir/" target="_blank" title="instagram" ref="friend">
            <i class="fa fa-instagram"></i>
        </a>
    </div>

    &nbsp;&nbsp;<div class="btn btn-twitter">
        <a href="https://twitter.com/tangkunyin" target="_blank" title="twitter" ref="friend">
            <i class="fa fa-twitter"></i>
        </a>
    </div>

    &nbsp;&nbsp;<div class="btn btn-github">
        <a href="https://github.com/tangkunyin" target="_blank" title="github" ref="friend">
            <i class="fa fa-github"></i>
        </a>
    </div>


        </div>
    </div>
</div>

            <div class="page-title">
    <ul>
        <li><a href="/">最近</a></li>
        
        
        
        <li class="page-search">
    <form id="search" class="search-form">
        <input type="text"
               readonly="readonly"
               id="local-search-input-tip"
               placeholder="读物检索~" />
        <button type="button" disabled="disabled" class="search-form-submit"><i class="fa fa-search"></i></button>
    </form>
</li>

    </ul>
</div>
<div class="main-inner">
    <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
        <div class="post-header">
            <div class="post-author clearfix">
                <a class="avatar fleft" href="https://shuoit.net"
                   target="_blank">
                    <img width="48" src="/images/avar.jpg" alt="avatar"/>
                </a>
                <p><span class="label">作者</span>
                    <a href="https://shuoit.net"
                       target="_blank">快乐的麻瓜</a>
                    <span title="最后编辑于&nbsp;2020-01-16">2020-01-16</span>
                </p>
                <p>一个热爱跑步的web前端练习生</p>
            </div>
            <h2 class="post-title">浏览器对象-BOM</h2>
            <div class="post-meta">
                本文共计9169个字 |
                您是第&nbsp;<span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span>位看到它们的小伙伴
            </div>
        </div>
        <div class="post-content markdown-body">
            <h1 id="浏览器对象-BOM"><a href="#浏览器对象-BOM" class="headerlink" title="浏览器对象-BOM"></a>浏览器对象-BOM</h1><p>​    如果说，<code>ECMAScript</code>  是 JavaScript的核心，那么想要在浏览器中使用JavaScript，BOM无疑才是真正的核心BOM提供了很多对象供浏览器使用，这些都与页面内容无关， 下面是<strong>BOM</strong>主要内容</p>
<ul>
<li>理解window对象——BOM的核心</li>
<li>控制窗口、框架和弹出窗口</li>
<li>利用 <code>location</code> 对象中的页面信息</li>
<li>使用 <code>navigator</code> 对象了解浏览器</li>
</ul>
<h2 id="1-window对象"><a href="#1-window对象" class="headerlink" title="1 window对象"></a>1 window对象</h2><p>​    BOM的核心是 window，他表示一个浏览器实例。在浏览器当中，window对象有双重角色，它既是通过 <code>JavaScript</code> 访问浏览器的一个接口，有是 <code>ECMAScript</code> 规定的Global对象，这意味着在网页中定义的任何一个对象，变量，函数都可以以window对象作为Global访问</p>
<h3 id="1-1-全局作用域"><a href="#1-1-全局作用域" class="headerlink" title="1.1  全局作用域"></a>1.1  全局作用域</h3><p>​    所有在全局作用域中声明的变量、函数，最后都会变成<code>window</code> 对象的属性和方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var a &#x3D; 12;</span><br><span class="line">function fn1 () &#123;</span><br><span class="line">     alert(this.a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">alert(window.a)   	&#x2F;&#x2F;12</span><br><span class="line">window.fn1()		&#x2F;&#x2F;12</span><br><span class="line">fn1()				&#x2F;&#x2F;12</span><br></pre></td></tr></table></figure>

<p>​    很明显我们在全局作用域定义的变量和函数最后都会归于<code>window</code> 对象下。于是可以通过window.a和window.fn1()来访问和调用在全局作用域下定义的变量 a和函数 fn1，但是在全局作用域下定义变量与在 window对象下直接定义属性还是有那么一点点区别的。</p>
<p>​    全局变量下定义的变量不能通过 <code>delete</code> 操作符删除，而在 <code>window</code> 下直接定义的属性可以。例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var age &#x3D; 22;</span><br><span class="line">window.color &#x3D; &#39;red&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;在IE&lt;9 时抛出错误，在其他所有浏览器都返回 false</span><br><span class="line">delete window.age</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;在IE&lt;9 时抛出错误，在其他所有浏览器都返回 true</span><br><span class="line">delete window.color</span><br><span class="line"></span><br><span class="line">alert(window.age)  	&#x2F;&#x2F;22</span><br><span class="line">alert(window.color)	&#x2F;&#x2F;undefined</span><br></pre></td></tr></table></figure>

<p>​    这是因为我们使用 <code>var</code> 语句声明的 age 属性在<code>window</code> 中有一个属性名为 <code>[[Configurable]]</code>的特性，这个特性的值被设置为了<code>false</code>，因此这样直接在全局定义的属性是不可以通过 <code>delete</code>  操作符删除掉，IE8及以下不管属性是怎么创建的都会抛出错误。IE问题真的是多</p>
<h3 id="1-2-窗口关系及框架"><a href="#1-2-窗口关系及框架" class="headerlink" title="1.2 窗口关系及框架"></a>1.2 窗口关系及框架</h3><p>​    如果一个页面中包含框架，则每个框架都有一个自己的window对象，并且保存在 <code>frames</code>集合中。在 frames集合中可以通过索引访问相应的 window对象，每个window对象都有一个name属性，其中包含了框架的名称。</p>
<p>​    top对象始终指向最外层框架，也就是浏览器。与top对象对应的是<code>parent</code> 对象，顾名思义，parent对象始终指向当前框架的直接上层框架。在某些情况下 parent有可能等于top；但在没有框架的时候，parent一定等于top，这个应该很好理解。</p>
<h3 id="1-3-窗口位置"><a href="#1-3-窗口位置" class="headerlink" title="1.3 窗口位置"></a>1.3 窗口位置</h3><p>​    <code>screenLeft、screenTop</code> 或者 <code>screenX、screenY</code>返回的是窗口相对于屏幕左边和上边的位置。浏览器窗口紧贴屏幕最上方的时候，<code>screenTop</code>或者 <code>screenY</code> ，Firefox、Chrome、Safari返回的是浏览器工具栏也就是整个浏览器窗口相对于屏幕上方的位置也就是0；而不是像IE和Opera一样返回的是页面可见区域相对屏幕上方的精确距离。</p>
<p>​    更特别的一点是 ，Firefox、Chrome、Safari始终返回的是每个页面框架的 top.screenLeft和screenTop的值，就算框架设置了外边距的情况返回的值也是相同的。而IE和Opera则会返回框架相对于屏幕精确的值。</p>
<p>​    虽然我们可以使用 <code>moveTo</code> 和 <code>moveBy</code> 两个函数将窗口移到一个精确地值，这两个方法都接收两个参数，一个是新位置的x和y的坐标，一个是在水平和垂直方向上移动的距离。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">window.moveTo(0,0)		&#x2F;&#x2F;将窗口移到左上角</span><br><span class="line"></span><br><span class="line">window.moveBy(200,300)	&#x2F;&#x2F;将窗口水平移动200px，垂直移动300px</span><br></pre></td></tr></table></figure>

<p>​    需要注意的是这个两个方法都有可能被浏览器禁用了，在Opera和IE&gt;7默认就是禁用的。</p>
<h3 id="1-3-窗口的大小"><a href="#1-3-窗口的大小" class="headerlink" title="1.3 窗口的大小"></a>1.3 窗口的大小</h3><p>​    跨浏览器确认一个窗口的大小可不是一件简单的事。IE9+，Firefox、Safari、Opera和Chrome均提供了四个属性： <code>innerWidth   innerHeight  outWidth和 outHeight</code> 。在不同浏览器有不同的标准，这里就不细说了。</p>
<p>​    虽然无法确认浏览器本身窗口大小，但是却可以获得页面视口大小。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var pageHeight &#x3D; window.innerHeight,</span><br><span class="line">	pageWidth &#x3D; window.innerWidth</span><br><span class="line">	</span><br><span class="line">	if(typeof pageWidth !&#x3D; &#39;number&#39;) &#123;</span><br><span class="line">         	if(document.compatModel) &#123;</span><br><span class="line">             pageWidth &#x3D; document.documentElement.clientWidth;</span><br><span class="line">             pageHeight &#x3D; document.documentElement.clientHeight;</span><br><span class="line">         	&#125;else&#123;</span><br><span class="line">             pageWidth &#x3D; document.body.clientWidth;</span><br><span class="line">             pageHeight &#x3D; document.body.clientHeight</span><br><span class="line">         	&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<p>​    先检查 pageWidth 和 pageHeight是不是数值，如果不是的话，则通过检查 <code>document.compatModel</code> 来确认页面是否处于标准模式，如果是则使用 <code>document.documentElement.clientWidth</code> ；否则使用 <code>document.body.clientWidth</code>。 对于移动设备window.innerHeight始终保存着可见视口区域的大小。移动IE不支持这个，但是可以通过 <code>document.documentElement.clientHeight</code> 提供相同的信息。随着页面的缩放这些信息也会改变。</p>
<p>​    和移动窗口的两个方法 <code>moveTo moveBy</code> 类似的两个方法0 <code>resizeTo  resizeBy</code>，这两个方法可以调整浏览器的大小。但是同样也可能会被浏览器禁用。</p>
<h3 id="1-4-导航和打开窗口"><a href="#1-4-导航和打开窗口" class="headerlink" title="1.4 导航和打开窗口"></a>1.4 导航和打开窗口</h3><p>​    使用 <code>window.open()</code> 可以导航到一个窗口也可以打开一个窗口这个方法可以接收四个参数值：要加载的URL、窗口目标、一个特性字符串以及一个表示新页面是否取代浏览器历史记录中当前加载页面的布尔值。通常只需要传递第一个值，最后一个值只在不打开新窗口的情况下使用。</p>
<p>​    如果为 <code>window.open()</code> 传递了第二个参数，而且参数是已有窗口或框架名称，那么就会在具有该名称的窗口或框架下加载 第一个参数指定的 URL。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;等同于  &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.baidu.com&quot; target&#x3D;&quot;topFrame&quot;&gt;&lt;&#x2F;a&gt;</span><br><span class="line">window.open(&quot;http:&#x2F;&#x2F;www.baidu.com&quot;,&quot;topFrame&quot;)</span><br></pre></td></tr></table></figure>

<p>​        如果有一个名叫“topFrame” 的窗口或框架就会在该窗口下加载URL；否则就会创建一个新的窗口并将其命名为“topFrame”。此外第二个参数也可以是下列任何一个特殊的窗口名称：</p>
<ul>
<li>_self</li>
<li>-parent</li>
<li>_top</li>
<li>_blank</li>
</ul>
<h4 id="弹出一个窗口"><a href="#弹出一个窗口" class="headerlink" title="弹出一个窗口"></a>弹出一个窗口</h4><p>​    如果 <code>window.open()</code> 第二个参数并不是一个以及存在窗口或者框架，那么该方法就会根据第三个参数 传入的字符串创建一个新窗口或标签页。如果没有传入第三个参数，浏览器就只好自己根据默认配置（工具栏、地址栏、状态栏）打开一个新的窗口或者标签页（根据浏览器设置）。在不打开新窗口的时候回忽略第三个参数。</p>
<p>下面是第三个参数的配置说明：</p>
<ul>
<li><code>fullscreen</code> 可以去yes或者no，表示是否最大化，仅限IE</li>
<li><code>height</code> 表示高度。不能小于100</li>
<li><code>left</code> 数值，表示到左边的距离。不能是负值</li>
<li><code>location</code> yes或者no，表示是否在浏览器窗口显示地址栏。不同浏览器的默认值不同。如果设置为no，地址栏有可能会被隐藏也有可能会被禁用。（取决于不同浏览器）</li>
<li><code>menubar</code> yes或no 表示是否在浏览器窗口显示菜单栏。默认值为no</li>
<li><code>resizable</code> yes或no  表示是否可以拖动浏览器框来改变窗口大小，默认为no</li>
<li><code>scrollbar</code> yes或no 表示如果内容在视口显示不下，是否允许滚动。默认值为 no</li>
<li><code>status</code> yes或no  表示是否在浏览器窗口显示状态栏。 默认值为no</li>
<li><code>toolbar</code> yes或no  表示是否在浏览器窗口显示工具栏。 默认值为no </li>
<li><code>top</code> 同样不能为负值 </li>
<li><code>width</code>  同样不能小于100</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var myBaidu &#x3D;  window.open(&quot;http:&#x2F;&#x2F;www.baidu.com&quot;,&quot;myBaidu&quot;,</span><br><span class="line">&quot;height&#x3D;400,width&#x3D;400,top&#x3D;20,left&#x3D;20,resizable&#x3D;no&quot;)</span><br><span class="line"></span><br><span class="line">myBaidu.close() 	&#x2F;&#x2F;可以在打开窗口的地方关闭，但也只能是打开的关闭被打开的</span><br><span class="line">alert(myBaidu.closed) &#x2F;&#x2F;true</span><br><span class="line"></span><br><span class="line">   alert(myBaidu.opener &#x3D;&#x3D;&#x3D; window)	&#x2F;&#x2F;true</span><br></pre></td></tr></table></figure>



<h2 id="2-location对象"><a href="#2-location对象" class="headerlink" title="2. location对象"></a>2. location对象</h2><p><code>location</code> 对象是最有用的 <code>BOM</code> 对象之一，它提供了当前窗口加载文档有关的信息，还提供了一些导航功能。location既是document的对象也是window的对象；换句话说 document.locatation和window.location引用的是同一个对象。下表列出了 <code>location</code> 对象的所有属性。（省略了 每个属性前面的location前缀）</p>
<ul>
<li><code>hash</code> “#contents” 返回URL中的hash（#后面跟零或多个字符），不包含散列则返回空字符串</li>
<li><code>host</code> ”wxww.xxx.com：8080“ 返回服务器名和端口号（如果有的话）</li>
<li><code>hostname</code> “wxww.xxx.com” 返回不带端口号的服务器名</li>
<li><code>href</code> “httxp://wxww.xxx.com:80” 返回当前加载页面完整的URL，等于location.toString()的返回值</li>
<li><code>pathname</code> “/static/img” 返回URL中的目录和文件名</li>
<li><code>port</code> 如果有的话返回端口号，没有的话则返回空字符串</li>
<li><code>protocol</code> “http:” 返回页面使用的协议。通常都是http或https</li>
<li><code>search</code> “？q=1235” 返回URL的查询字符串，通常都是以？开头</li>
</ul>
<h3 id="2-1-查询字符串search"><a href="#2-1-查询字符串search" class="headerlink" title="2.1 查询字符串search"></a>2.1 查询字符串search</h3><p>location.search返回的是一个以？开头的查询字符串，如果有多个查询参数的话还会用&amp;连接，但我们却不方便直接访问每个查询字符的参数。可以自己写一个函数以便解析</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function getQueryObj () &#123;</span><br><span class="line">     	&#x2F;&#x2F;取得查询字符串并去掉开头的？</span><br><span class="line">     	var qs &#x3D; location.search?location.search.substring(1):&quot;&quot;;</span><br><span class="line">     	var obj &#x3D; &#123;&#125;;</span><br><span class="line">     	let items &#x3D; qs.length ? qs.spilt(&quot;&amp;&quot;) : [];</span><br><span class="line">     	</span><br><span class="line">     	items.forEach( function (item) &#123;</span><br><span class="line">     		&#x2F;&#x2F;在这里取到的字符串很有可能是被编码过的</span><br><span class="line">       	let name &#x3D; decodeURLCoponent(item.split(&quot;&#x3D;&quot;)[0]);</span><br><span class="line">           let value &#x3D; decodeURLCoponent(item.split(&quot;&#x3D;&quot;)[1]);</span><br><span class="line">           obj[name] &#x3D; value;</span><br><span class="line">     	&#125; );</span><br><span class="line">     	return obj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-位置操作"><a href="#2-2-位置操作" class="headerlink" title="2.2 位置操作"></a>2.2 位置操作</h3><p>使用location对象可以改变浏览器位置，<code>location.assign(url)</code>可以打开新的URL并在浏览器的历史记录中添加一条新的记录。如果是直接将location的href的值设置为了别的也会调用 <code>assign（）</code> 方法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;这几种写法是等价的</span><br><span class="line">window.location &#x3D; &#39;www.xxx.baidu.com&#39;</span><br><span class="line">document.location &#x3D; &#39;www.baidu.com&#39;</span><br><span class="line">location.assign(&#39;www.baidu.com&#39;)</span><br></pre></td></tr></table></figure>

<p>​    在IE8、Firefox1、Safari2+，Opera9+和Chrome中，修改hash的值会在浏览器的历史记录中添加一条新的记录，在IE早期版本， <code>hash</code> 属性不会在用户单击‘后退’或者‘前进’ 按钮时被更新，而只会在用户点击了包含hash的URL时才会更新。</p>
<p>​    当通过上述任何一种方式修改URL之后浏览器都会生成一条新的历史记录，因此用户点击按钮“后退”都会导航到前面一个页面。要禁用这种行为可以使用 <code>replace</code> 方法。这个方法只接受一个参数，即要导航去的URL；结果虽然会导致浏览的位置发生改变，但是不会再历史记录中生成新的记录。再调用 <code>replace（）</code> 方法之后，用户不能再回到之前的页面。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">location.replace(&#39;www.baidu.com&#39;)</span><br><span class="line">&#x2F;&#x2F;用户是无法通过点返回的</span><br></pre></td></tr></table></figure>

<p>与位置有关的最后一个方法是reload(),作用是重新加载页面。如果调用reload()时不传入任何参数，页面就会以最有效的方式重新加载。也就是说如果页面上次请求以来没有发生过改变，页面就会从浏览器缓存中重新加载。如果要强制从服务器重新加载，则可以在参数中传入一个true</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">location.reload() 		&#x2F;&#x2F;重新加载（有可能从缓存中加载）</span><br><span class="line">location.reload(true) 	&#x2F;&#x2F;重新加载（从服务器重新加载）</span><br></pre></td></tr></table></figure>

<h2 id="3-navigator对象"><a href="#3-navigator对象" class="headerlink" title="3. navigator对象"></a>3. navigator对象</h2><p>​    最早由 <code>Netscape2.0</code>引入 navigator对象，现在已经成为识别客户端浏览器的事实标准。</p>
<h3 id="3-1-插件检测"><a href="#3-1-插件检测" class="headerlink" title="3.1 插件检测"></a>3.1 插件检测</h3><pre><code>检测浏览器中是否安装了特定的插件是一种最常见的检测流程。对于IE浏览器，可以使用plugins数组来达到这个目的。该数组的每一项都包含下列属性。</code></pre><ul>
<li><code>name</code> :插件的名称。</li>
<li><code>description</code> ：插件的描述</li>
<li><code>filename</code> ：插件的文件名。</li>
<li><code>length</code> ：插件所处理的<code>MIME</code> 类型数量</li>
</ul>
<p>​     一般来说，name属性中会包含检测插件必须的所有信息，但是有的时候也不全是如此。在检测插件是需要像下面这样循环迭代每一个插件名并将name和给定的插件名进行对比</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;插件检测（在IE中无效）</span><br><span class="line">function hasPlugin (name) &#123;</span><br><span class="line">     name &#x3D; name.toLowerCase();</span><br><span class="line">     for(let i &#x3D; 0; i &lt; navigator.plugins.length; i++) &#123;</span><br><span class="line">       if(navigator.plugins[i].name.toLowerCase.indexOf(name) &gt; -1)&#123;</span><br><span class="line">          return true</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     return false;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">alert(hasPlugin(&quot;flash&quot;))</span><br></pre></td></tr></table></figure>



<h2 id="4-screen对象"><a href="#4-screen对象" class="headerlink" title="4. screen对象"></a>4. screen对象</h2><p>​    JavaScript有几个对象在编程中用处不大，而<code>screen</code>  对象就是其中之一。screen对象基本上就是用来表示客户端能力，其中包含浏览器窗口外部的显示器信息。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.resizeTo(window.availWidth,window.availHeight)</span><br></pre></td></tr></table></figure>

<p>​    但是大部分浏览器都会默认禁用 调整浏览器大小的能力，所以上面的代码很可能没有效果</p>
<h2 id="5-history-对象"><a href="#5-history-对象" class="headerlink" title="5. history 对象"></a>5. history 对象</h2><p>​    <code>history</code> 对象保存着用户上网的历史记录，从窗口被打开的那一刻起。因为history是window对象的属性，因此每个浏览器窗口、每个标签乃至每个框架，都有自己特定的history对象与特定的window对象关联。出于安全考虑，开发人员无法获得用户已经浏览过的URL。不过借用用户访问过的列表，同样可以在不知道URL的情况下前进后退。</p>
<p>​    使用 <code>go（）</code> 方法可以再用户的历史记录中任意跳转，这个方法接收一个参数值，即向前跳转或者先后跳转的整数值，正数表示向前跳转，负数表示向后跳转。类似于浏览器的前进后退。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">history.go(1) 		&#x2F;&#x2F;前进一页</span><br><span class="line">history.go(-2)		&#x2F;&#x2F;后退两页</span><br></pre></td></tr></table></figure>

<p>​    也可以给 <code>go()</code>方法传入一个字符串参数，此时浏览器会跳转到历史记录中包含这个字符串最近的一个位置，有可能前进也有可能后退。如果历史记录中不包含这个字符串，那么就会什么都不做。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">history.go(&#39;baidu.com&#39;)</span><br><span class="line">&#x2F;&#x2F;跳转到最近的&#39;baidu.com&#39;</span><br></pre></td></tr></table></figure>

<p>​    另外还可以用两个简写的方法back()和foward()来代替go()。顾名思义可以前进后退，可读性更强点。</p>
<p>​    除了上述几个方法之外history还有一个length属性，保存着历史记录的数量。这个数量包括所有的历史记录，即所有的向前和向后的记录。对于加载到窗口、标签页或者框架的第一个页面而言，history的length为0。可以像下面这样检查用户是否一开始就打开了你的页面。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if(history.length &#x3D;&#x3D; 0)&#123;</span><br><span class="line">	dosomething</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​    虽然 <code>history</code> 并不常用，但是在创建自定义前进后退按钮，以及检测当前页面是不是用户历史记录中的第一个页面还是非常有用的。</p>
<blockquote>
<p>当页面URL改变时，就会生成一条历史记录。在IE8+、Opera、FIrefox以及Safari3+和Chrome中，这里所说的改变包括URL中的hash值的变化（因此设置location.hash会在上述这些浏览器生成一条新的历史记录）</p>
</blockquote>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>浏览器对象模型（BOM）以window对象以依托，表示浏览器可视窗口以及页面可是区域。同时window对象还是 <code>ECMAScript</code> 中的Global对象，因而所有全局变量核函数都是他的属性，并且所有的原生构造函数以及其他函数也都存在与他的命名空间。本文讨论了下列BOM组成:</p>
<ul>
<li>在使用框架时，每个框架都有自己的window对象以及所有原生构造函数及其他函数的副本。每个框架都保存在frames集合中，可以通过位置或名字来访问。</li>
<li>有一些窗口指针可以用来引用其他框架，包括父框架</li>
<li>top对象始终指向最外围的框架，也就是整个浏览器的窗口。</li>
<li>使用 <code>location</code> 对象可以通过编程方式来访问浏览器的导航系统。设置响应的属性，可以逐段或者整体修改浏览器的URL</li>
<li>调用 <code>replace()</code> 方法可以导航到一个新的URL，同时该URL会替换历史记录中当前显示的页面，就是意味着不会修改历史记录</li>
<li><code>navigator</code> 对象提供了与浏览器相关的信息。到底提供了哪些信息很大一部分上取决于浏览器；不过也有一些大家都有的属性（如userAgen）存在于所有的浏览器当中</li>
</ul>
<p>​    BOM中还有两个对象：screen和history，但他们的功能有限。screen对象中保存着与客户端显示器有关的信息，这些信息一般都只用于站点分析。<code>history</code> 对象为开发者访问浏览器历史记录提供了一个小间隙，开发人员可以根据这个判断历史记录的数量，也可以在历史记录中前后任意跳转。</p>

            
                

            
        </div>
        <div class="post-tool">
            <a class="btn-thumbs-up" href="javascript:void(0);" data-cid="52" title="95">
                <i class="fa fa-thumbs-up" aria-hidden="true"></i> 打赏
            </a>
        </div>
        
        <div class="post-tags">标签：
            
            <a href="/tags/BOM/">BOM</a>
            
        </div>
        
    </article>
    
        <p style="text-align: center">本文代表个人观点，内容仅供参考。若有不恰当之处，望不吝赐教！</p>
    
    
    

</div>

<script src="/js/busuanzi.pure.mini.js"></script>



        </div><!-- end #main-->
    </div><!-- end #body -->
    <footer class="footer">
    <div class="footer-inner" style="text-align: center">
        <p>
            <a href="/about"  title="关于">关于</a>&nbsp;&nbsp<em>·</em>&nbsp;&nbsp
            <!-- 自定义链接 -->
            <a href="/help" title="帮助" >帮助</a>&nbsp;&nbsp<em>·</em>&nbsp;&nbsp
            <a href="/links" title="友链">友链</a>&nbsp;&nbsp<em>·</em>&nbsp;&nbsp
            <a href="/sitemap.xml" title="地图">地图</a>
        </p>
        <p>
            本站已建立&nbsp<a href="/timeline" id="siteBuildingTime"></a>&nbsp天，<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="licence">采用知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议创作</a><br/>
            ©2017-<span id="cpYear"></span> 基于&nbsp<a href="http://hexo.io" target="_blank" rel="nofollow">Hexo</a>
            ，主题采用&nbsp&nbsp<a href="https://github.com/tangkunyin/hexo-theme-jsimple" target="_blank" rel="bookmark">JSimple</a>
            ，作者&nbsp<a href="https://shuoit.net" target="_blank" rel="friend">快乐的麻瓜</a>
            ，Hosted by <a href="https://pages.github.com/" target="_blank" rel="nofollow">GitHub Pages</a>
        </p>
    </div>
</footer>

<script src="/js/SimpleCore.js"></script>


</div>
<!-- search pop -->
<div class="popup search-popup local-search-popup">
    <div class="local-search-header clearfix">
        <span class="search-icon">
            <i class="fa fa-search"></i>
        </span>
        <span class="popup-btn-close">
            <i class="fa fa-times-circle"></i>
        </span>
        <div class="local-search-input-wrapper">
            <input id="local-search-input"
                   spellcheck="false"
                   type="text"
                   autocomplete="off"
                   placeholder="请输入查询关键词"/>
        </div>
    </div>
    <div id="local-search-result"></div>
</div>
<div class="fixed-btn">
    <a class="btn-gotop" href="javascript:"> <i class="fa fa-angle-up"></i></a>
</div>
<script>
    $(function () {
        var jsi_config = {
            buildingTime: '01/20/2018',
            current: $('.post-tags').length > 0 ? 'post' : 'archive',
            snsQRCode: '/images/sns-qrcode.png',
            donateImg: '/images/donate-qr.png',
            localSearch: { dbPath: '' },
            readMode: 'day'
        };
        
        SimpleCore.init(jsi_config);
        
    });
</script>
<script src="/js/src/click.js"></script>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/haruto.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true}});</script></body>
</html>
